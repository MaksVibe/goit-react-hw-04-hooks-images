{"version":3,"sources":["components/Searchbar/Searchbar.jsx","components/ImageGallery/ImageGallery.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/common/Modal/Modal.jsx","components/common/Button/Button.jsx","App.js","index.js"],"names":["Searchbar","state","inputText","hendleSubmit","e","preventDefault","props","handelChange","setState","target","value","toLowerCase","className","onSubmit","this","type","onChange","autoComplete","autoFocus","placeholder","Component","ImageGallery","children","ImageGalleryItem","images","openModal","map","webformatURL","id","src","alt","onClick","modalRootRef","document","querySelector","Modal","handleEsc","code","onModalClose","handleBackdropClick","currentTarget","window","addEventListener","removeEventListener","createPortal","largeImage","Button","handleLoadMore","App","q","page","isLoading","error","isModalOpen","fetchImages","a","BASE_URL","fetch","res","ok","json","Promise","reject","Error","statusText","input","console","log","prev","message","getImages","hits","onModalOpen","largeURL","getAttribute","prevProps","prevState","length","color","height","width","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3d5841ef.chunk.js","sourcesContent":["import { Component } from \"react\";\n\nclass Searchbar extends Component {\n  state = {\n    inputText: \"\",\n  };\n  hendleSubmit = (e) => {\n    e.preventDefault();\n    this.props.hendleSubmit(this.state.inputText);\n  };\n  handelChange = (e) => {\n    this.setState({ inputText: e.target.value.toLowerCase() });\n  };\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.hendleSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            onChange={this.handelChange}\n            value={this.state.inputText}\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","const ImageGallery = ({ children }) => {\n  return <ul className=\"ImageGallery\">{children}</ul>;\n};\n\nexport default ImageGallery;\n","const ImageGalleryItem = ({ images, openModal }) => {\n  return images.map(({ webformatURL, id }) => (\n    <li className=\"ImageGalleryItem\" key={id}>\n      <img\n        src={webformatURL}\n        alt=\"\"\n        className=\"ImageGalleryItem-image\"\n        onClick={openModal}\n      />\n    </li>\n  ));\n};\n\nexport default ImageGalleryItem;\n","import { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\n\nconst modalRootRef = document.querySelector(\"#modal-root\");\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleEsc);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleEsc);\n  }\n\n  handleEsc = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onModalClose();\n    }\n  };\n\n  handleBackdropClick = (e) => {\n    if (e.target === e.currentTarget) {\n      this.props.onModalClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className=\"Overlay\" onClick={this.handleBackdropClick}>\n        <div className=\"Modal\">\n          <img\n            src={this.props.largeImage}\n            alt=\"\"\n            onClick={this.props.onModalClose}\n          />\n        </div>\n      </div>,\n      modalRootRef\n    );\n  }\n}\n\nexport default Modal;\n","const Button = ({ handleLoadMore }) => {\n  return (\n    <button type=\"button\" onClick={handleLoadMore} className=\"Button\">\n      Load more\n    </button>\n  );\n};\n\nexport default Button;\n","import Searchbar from \"./components/Searchbar/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery.jsx\";\nimport ImageGalleryItem from \"./components/ImageGalleryItem/ImageGalleryItem.jsx\";\nimport Modal from \"./components/common/Modal/Modal.jsx\";\nimport Loader from \"react-loader-spinner\";\n\nimport { Component } from \"react\";\nimport Button from \"./components/common/Button/Button.jsx\";\n\nclass App extends Component {\n  state = {\n    q: \"\",\n    images: [],\n    page: 1,\n    isLoading: false,\n    error: null,\n    largeImage: \"\",\n    isModalOpen: false,\n  };\n\n  fetchImages = async (q, page = 1) => {\n    const BASE_URL = `https://pixabay.com/api/?key=24483741-f975205992ca850031cfb75db&q=${q}&page=${page}&image_type=photo&orientation=horizontal&per_page=12`;\n    const res = await fetch(BASE_URL);\n    return res.ok ? res.json() : Promise.reject(new Error(res.statusText));\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.q !== this.state.q || prevState.page !== this.state.page) {\n      this.getImages(this.state.q, this.state.page);\n    }\n  }\n\n  hendleSubmit = (input) => {\n    console.log(this.state.q);\n    if (!input || this.state.q === input) return false;\n    this.setState({ q: input, images: [] });\n  };\n\n  handleLoadMore = async () => {\n    this.setState({ isLoading: true });\n    try {\n      this.setState((prev) => ({ page: prev.page + 1 }));\n    } catch (error) {\n      this.setState({ error: error.message });\n    } finally {\n      this.setState({ isLoading: false });\n    }\n  };\n\n  getImages = async (q, page) => {\n    this.setState({ isLoading: true });\n    try {\n      const { hits } = await this.fetchImages(q, page);\n      this.setState((prev) => ({ images: [...prev.images, ...hits] }));\n    } catch (error) {\n      this.setState({ error: error.message });\n    } finally {\n      this.setState({ isLoading: false });\n    }\n  };\n\n  onModalOpen = (e) => {\n    const largeURL = e.target.getAttribute(\"src\");\n    return this.setState({ isModalOpen: true, largeImage: largeURL });\n  };\n\n  onModalClose = () => {\n    return this.setState({ isModalOpen: false });\n  };\n\n  render() {\n    const { images, largeImage, isLoading, isModalOpen } = this.state;\n    return (\n      <div className=\"App\">\n        <Searchbar hendleSubmit={this.hendleSubmit} />\n        <ImageGallery isLoading={isLoading}>\n          {images.length > 0 && (\n            <ImageGalleryItem images={images} openModal={this.onModalOpen} />\n          )}\n\n          {isLoading && (\n            <Loader type=\"Grid\" color=\"#00BFFF\" height={80} width={80} />\n          )}\n        </ImageGallery>\n        {images.length > 11 && <Button handleLoadMore={this.handleLoadMore} />}\n        {isModalOpen && (\n          <Modal largeImage={largeImage} onModalClose={this.onModalClose} />\n        )}\n      </div>\n    );\n  }\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}